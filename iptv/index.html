<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineStream - Sua plataforma de streaming</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Header/Navbar -->
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <h1>CineStream</h1>
            </div>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="Buscar filmes...">
                <button type="button" id="search-btn"><i class="fas fa-search"></i></button>
            </div>
            <nav class="menu">
                <ul class="menu-list">
                    <li><a href="#home">Início</a></li>
                    <li><a href="#categories">Categorias</a></li>
                    <li><a href="favoritos.html">Favoritos</a></li>
                    <li><a href="#about">Sobre</a></li>
                    <li><button id="logout-btn" class="logout-button" style="background-color:#e50914;color:#fff;border:none;padding:0.5rem 1rem;border-radius:20px;cursor:pointer;font-weight:500;font-size:1rem;display:flex;align-items:center;gap:0.5rem;"><i class="fas fa-sign-out-alt"></i> Sair</button></li>
                </ul>
            </nav>
            <button class="menu-toggle" aria-label="Menu">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home" style="background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80') no-repeat center center; background-size: cover;">
        <div class="hero-content">
            <h2>Assista aos melhores filmes e descubra lançamentos incríveis.</h2>
            <p>Sua próxima aventura cinematográfica começa aqui</p>
            <a href="#featured" class="cta-button">Explorar agora</a>
        </div>
    </section>

    <!-- Featured Movies Section -->
    <section class="featured" id="featured">
        <h2>Filmes em Destaque</h2>
        <div class="movies-carousel">
            <!-- Movie cards will be added dynamically -->
        </div>
    </section>

    <section class="featured" id="featured-tv">
        <h2>Séries em Destaque</h2>
        <div class="movies-carousel" id="tv-carousel">
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories" id="categories">
        <h2>Categorias</h2>
        <div class="categories-grid">
            <div class="category-card" data-genre="action">
                <img src="https://images.unsplash.com/photo-1509347528160-9a9e33742cdb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80" alt="Ação">
                <h3>Ação</h3>
            </div>
            <div class="category-card" data-genre="comedy">
                <img src="https://images.unsplash.com/photo-1543584756-8f40a802e14f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80" alt="Comédia">
                <h3>Comédia</h3>
            </div>
            <div class="category-card" data-genre="drama">
                <img src="https://images.unsplash.com/photo-1485846234645-a62644f84728?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1759&q=80" alt="Drama">
                <h3>Drama</h3>
            </div>
            <div class="category-card" data-genre="horror">
                <img src="https://images.unsplash.com/photo-1505635552518-3448ff116af3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80" alt="Terror">
                <h3>Terror</h3>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-content">
            <h2>Sobre o CineStream</h2>
            <div class="about-icons">
                <i class="fas fa-film"></i>
                <i class="fas fa-popcorn"></i>
                <i class="fas fa-video"></i>
            </div>
            <p>O CineStream é uma plataforma educacional de streaming desenvolvida como projeto de Programação Web. 
               Aqui você pode explorar filmes, assistir trailers e descobrir novas produções, tudo integrado à API do The Movie Database.</p>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <h2>CineStream</h2>
            </div>
            <div class="footer-links">
                <h3>Links Rápidos</h3>
                <ul>
                    <li><a href="#home">Início</a></li>
                    <li><a href="#categories">Categorias</a></li>
                    <li><a href="#about">Sobre</a></li>
                </ul>
            </div>
            <div class="footer-social">
                <h3>Redes Sociais</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="footer-contact">
                <h3>Contato</h3>
                <p>Email: contato@cinestream.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>©️ 2025 CineStream — Projeto acadêmico. Dados fornecidos pela TMDB API.</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
    // Redireciona para busca por categoria ao clicar
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.category-card').forEach(function(card) {
            card.addEventListener('click', function() {
                const genre = card.getAttribute('data-genre');
                // Mapeamento local para garantir que sempre envie o id
                const GENRE_MAP = {
                    'action': 28,
                    'comedy': 35,
                    'drama': 18,
                    'horror': 27
                };
                if (genre && GENRE_MAP[genre]) {
                    window.location.href = `search.html?genre=${GENRE_MAP[genre]}`;
                }
            });
        });
    });
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const logoutBtn = document.getElementById('logout-btn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', function() {
                fetch('auth/logout.php', {
                    method: 'POST',
                    credentials: 'include'
                }).finally(() => {
                    window.location.href = 'login.html';
                });
            });
        }
        // Busca de filmes
        const searchBtn = document.getElementById('search-btn');
        const searchInput = document.getElementById('search-input');
        if (searchBtn && searchInput) {
            searchBtn.addEventListener('click', function() {
                const query = searchInput.value.trim();
                if (query) {
                    window.location.href = `search.html?q=${encodeURIComponent(query)}`;
                }
            });
            searchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    const query = searchInput.value.trim();
                    if (query) {
                        window.location.href = `search.html?q=${encodeURIComponent(query)}`;
                    }
                }
            });
        }
    });
    </script>
</body>
</html>
